(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Kvg2:function(l,n,e){"use strict";e.r(n);var u=e("CcnG"),t=e("mrSG"),o=e("6Qg2"),r=e("LvDl"),i=e("ej43"),s=e("gFX4"),c=e("ZZ/e"),a=e("TZmh"),b=function(){function l(l,n,e,u,t){this.actionSheetController=l,this.usersService=n,this.authService=e,this.modalController=u,this.router=t,this.users=[],this.userArr=[],this.socket=s("https://https://kickserver.xyz")}return l.prototype.ngOnInit=function(){var l=this;this.loggedInUser=this.authService.userData,this.getUsers(),this.getUser(),this.socket.on("refreshPage",(function(){l.getUsers(),l.getUser()}))},l.prototype.getUsers=function(){var l=this;this.usersService.getAllUsers().subscribe((function(n){r.remove(n.result,{username:l.loggedInUser.username}),l.users=n.result,console.log(l.users)}))},l.prototype.getUser=function(){var l=this;this.loggedInUser=this.authService.userData,console.log(this.loggedInUser),this.usersService.getUserById(this.loggedInUser.id).subscribe((function(n){l.userArr=n.result.following,console.log(n)}))},l.prototype.checkInArray=function(l,n){return!!r.find(l,["userFollowed._id",n])},l.prototype.followUser=function(l){var n=this;console.log(typeof l._id),this.usersService.followUser(l._id).subscribe((function(l){console.log(l),n.socket.emit("refresh",{})}))},l.prototype.unfollowUser=function(l){var n=this;this.usersService.unfollowUser(l._id).subscribe((function(l){console.log(l),n.socket.emit("refresh",{})}))},l.prototype.presentModalMessaging=function(l){return t.b(this,void 0,void 0,(function(){return t.e(this,(function(n){switch(n.label){case 0:return[4,this.modalController.create({component:a.a,componentProps:{username:l}})];case 1:return[4,n.sent().present()];case 2:return[2,n.sent()]}}))}))},l.prototype.more=function(l,n){return t.b(this,void 0,void 0,(function(){var l=this;return t.e(this,(function(e){switch(e.label){case 0:return[4,this.actionSheetController.create({header:n,cssClass:"moreCss",buttons:[{text:"Messages",icon:"ios-send",handler:function(){l.presentModalMessaging(n)}},{text:"Annuler",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}}))}))},l}(),h=function(){return function(){}}(),p=e("pMnS"),g=e("X6gw"),f=e("oBZk"),m=e("Ip0R"),k=e("ZYCi"),d=e("vFeh"),v=e("qijY"),x=u.nb({encapsulation:0,styles:[[".moreCss[_ngcontent-%COMP%]{text-align:center}.svgIcon[_ngcontent-%COMP%]{width:20px;height:auto;fill:#fff}"]],data:{}});function w(l){return u.Fb(0,[(l()(),u.pb(0,0,null,null,3,"ion-button",[["color","light"],["fill","clear"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.followUser(l.parent.context.$implicit)&&u),u}),f.O,f.e)),u.ob(1,49152,null,0,c.l,[u.h,u.k,u.z],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),u.pb(2,0,null,0,1,"ion-icon",[["class","marginRight_5"],["name","add-circle-outline"]],null,null,null,f.ab,f.q)),u.ob(3,49152,null,0,c.D,[u.h,u.k,u.z],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"light","clear"),l(n,3,0,"add-circle-outline")}),null)}function y(l){return u.Fb(0,[(l()(),u.pb(0,0,null,null,3,"ion-button",[["color","light"],["fill","clear"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.unfollowUser(l.parent.context.$implicit)&&u),u}),f.O,f.e)),u.ob(1,49152,null,0,c.l,[u.h,u.k,u.z],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),u.pb(2,0,null,0,1,"ion-icon",[["class","marginRight_5"],["name","close-circle"]],null,null,null,f.ab,f.q)),u.ob(3,49152,null,0,c.D,[u.h,u.k,u.z],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"light","clear"),l(n,3,0,"close-circle")}),null)}function z(l){return u.Fb(0,[(l()(),u.pb(0,0,null,null,18,"ion-item",[["class","transparentToolbar"]],null,null,null,f.gb,f.t)),u.ob(1,49152,null,0,c.I,[u.h,u.k,u.z],null,null),(l()(),u.pb(2,0,null,0,1,"div",[["class","avatarContainer"]],null,null,null,null,null)),(l()(),u.pb(3,0,null,null,0,"img",[["class","avatar"],["src","assets/img/bitmoji.png"]],null,null,null,null,null)),(l()(),u.pb(4,0,null,0,6,"ion-label",[],null,null,null,f.hb,f.x)),u.ob(5,49152,null,0,c.O,[u.h,u.k,u.z],null,null),(l()(),u.pb(6,0,null,0,4,"a",[["class","titleColor"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.zb(l,7).onClick(e)&&t),"click"===n&&(t=!1!==u.zb(l,8).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.ob(7,737280,null,0,c.Mb,[m.g,c.Ib,u.k,k.m,[2,k.n]],null,null),u.ob(8,671744,null,0,k.o,[k.m,k.a,m.g],{routerLink:[0,"routerLink"]},null),u.Ab(9,2),(l()(),u.Eb(10,null,["",""])),(l()(),u.gb(16777216,null,0,1,null,w)),u.ob(12,16384,null,0,m.i,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.gb(16777216,null,0,1,null,y)),u.ob(14,16384,null,0,m.i,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.pb(15,0,null,0,3,"ion-button",[["color","light"],["fill","clear"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.more(l.context.$implicit._id,l.context.$implicit.username)&&u),u}),f.O,f.e)),u.ob(16,49152,null,0,c.l,[u.h,u.k,u.z],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),u.pb(17,0,null,0,1,"ion-icon",[["class","marginRight_5"],["src","assets/svg/ellipsis-vertical-sharp.svg"]],null,null,null,f.ab,f.q)),u.ob(18,49152,null,0,c.D,[u.h,u.k,u.z],{src:[0,"src"]},null)],(function(l,n){var e=n.component;l(n,7,0);var u=l(n,9,0,"/contactDashboard",n.context.$implicit._id);l(n,8,0,u),l(n,12,0,!e.checkInArray(e.userArr,n.context.$implicit._id)),l(n,14,0,e.checkInArray(e.userArr,n.context.$implicit._id)),l(n,16,0,"light","clear"),l(n,18,0,"assets/svg/ellipsis-vertical-sharp.svg")}),(function(l,n){l(n,6,0,u.zb(n,8).target,u.zb(n,8).href),l(n,10,0,n.context.$implicit.username)}))}function C(l){return u.Fb(0,[(l()(),u.pb(0,0,null,null,14,"ion-header",[],null,null,null,f.Z,f.p)),u.ob(1,49152,null,0,c.C,[u.h,u.k,u.z],null,null),(l()(),u.pb(2,0,null,0,12,"ion-toolbar",[["class","kickBg"]],null,null,null,f.tb,f.J)),u.ob(3,49152,null,0,c.Db,[u.h,u.k,u.z],null,null),(l()(),u.pb(4,0,null,0,2,"ion-title",[["class","icon whiteSmoke"]],null,null,null,f.sb,f.I)),u.ob(5,49152,null,0,c.Bb,[u.h,u.k,u.z],null,null),(l()(),u.Eb(-1,0,["Communaut\xe9"])),(l()(),u.pb(7,0,null,0,7,"ion-buttons",[["slot","end"]],null,null,null,f.P,f.f)),u.ob(8,49152,null,0,c.m,[u.h,u.k,u.z],null,null),(l()(),u.pb(9,0,null,0,5,"ion-button",[["autoHide","false"],["class","lightKick"],["routerLink","/dashboard"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.zb(l,11).onClick()&&t),"click"===n&&(t=!1!==u.zb(l,12).onClick(e)&&t),t}),f.O,f.e)),u.ob(10,49152,null,0,c.l,[u.h,u.k,u.z],null,null),u.ob(11,16384,null,0,k.n,[k.m,k.a,[8,null],u.D,u.k],{routerLink:[0,"routerLink"]},null),u.ob(12,737280,null,0,c.Mb,[m.g,c.Ib,u.k,k.m,[2,k.n]],null,null),(l()(),u.pb(13,0,null,0,1,"ion-icon",[["class","settingBtn"],["name","ios-arrow-forward"]],null,null,null,f.ab,f.q)),u.ob(14,49152,null,0,c.D,[u.h,u.k,u.z],{name:[0,"name"]},null),(l()(),u.pb(15,0,null,null,6,"ion-content",[["id","yellowBg"]],null,null,null,f.X,f.n)),u.ob(16,49152,null,0,c.v,[u.h,u.k,u.z],null,null),(l()(),u.pb(17,0,null,0,2,"div",[["class","ion-text-center mainDiv"]],null,null,null,null,null)),(l()(),u.gb(16777216,null,null,1,null,z)),u.ob(19,278528,null,0,m.h,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(l()(),u.pb(20,0,null,0,1,"app-nav-bar",[],null,null,null,d.b,d.a)),u.ob(21,114688,null,0,v.a,[],null,null)],(function(l,n){var e=n.component;l(n,11,0,"/dashboard"),l(n,12,0),l(n,14,0,"ios-arrow-forward"),l(n,19,0,e.users),l(n,21,0)}),null)}function I(l){return u.Fb(0,[(l()(),u.pb(0,0,null,null,1,"app-community",[],null,null,null,C,x)),u.ob(1,114688,null,0,b,[c.a,o.a,i.a,c.Hb,k.m],null,null)],(function(l,n){l(n,1,0)}),null)}var U=u.lb("app-community",b,I,{},{},[]),S=e("gIcY"),F=e("ySSC"),O=e("IiHF");e.d(n,"CommunityPageModuleNgFactory",(function(){return _}));var _=u.mb(h,[],(function(l){return u.wb([u.xb(512,u.j,u.bb,[[8,[p.a,g.b,U]],[3,u.j],u.x]),u.xb(4608,m.k,m.j,[u.u,[2,m.q]]),u.xb(4608,c.c,c.c,[u.z,u.g]),u.xb(4608,c.Hb,c.Hb,[c.c,u.j,u.q]),u.xb(4608,c.Lb,c.Lb,[c.c,u.j,u.q]),u.xb(4608,S.p,S.p,[]),u.xb(1073742336,m.b,m.b,[]),u.xb(1073742336,c.Fb,c.Fb,[]),u.xb(1073742336,S.n,S.n,[]),u.xb(1073742336,S.b,S.b,[]),u.xb(1073742336,k.p,k.p,[[2,k.v],[2,k.m]]),u.xb(1073742336,F.a,F.a,[]),u.xb(1073742336,O.a,O.a,[]),u.xb(1073742336,h,h,[]),u.xb(1024,k.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);