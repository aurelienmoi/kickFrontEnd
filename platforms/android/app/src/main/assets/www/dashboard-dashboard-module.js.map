{"version":3,"sources":["webpack:///./src/app/members/dashboard/dashboard.module.ts","webpack:///./src/app/members/dashboard/dashboard.page.html","webpack:///./src/app/members/dashboard/dashboard.page.scss","webpack:///./src/app/members/dashboard/dashboard.page.ts"],"names":[],"mappings":"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","file":"dashboard-dashboard-module.js","sourcesContent":["import { DashboardMapModule } from './_inc/dashboard-map/dashboard-map.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DashboardPage } from './dashboard.page';\r\n\r\n// Components\r\n\r\nimport { TopToolbarModule } from '../_layouts/top-toolbar/top-toolbar.module';\r\n\r\nimport { ProfilMenuModule } from '../contact-dashboard/_inc/profil-menu/profil-menu.module';\r\nimport { MainModule } from './_inc/main/main.module';\r\nimport { LibraryModule } from './_inc/library/library.module';\r\n\r\nimport { NavBarModule } from 'src/app/members/_layouts/nav-bar/nav-bar.module';\r\nimport { NotificationsModule } from './_inc/notifications/notifications.module';\r\nimport { StreamsModule } from '../streams/streams.module';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DashboardPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    LibraryModule,\r\n    ProfilMenuModule,\r\n    TopToolbarModule,\r\n    MainModule,\r\n    NavBarModule,\r\n    NotificationsModule,\r\n    DashboardMapModule,\r\n    StreamsModule\r\n  ],\r\n  declarations: [\r\n    DashboardPage\r\n  ]\r\n})\r\nexport class DashboardPageModule {}\r\n","module.exports = \"<app-top-toolbar></app-top-toolbar>\\r\\n\\r\\n<ion-header>\\r\\n  <ion-toolbar class=\\\"transparentToolbar\\\">\\r\\n    <ion-img slot=\\\"start\\\" src=\\\"assets/svg/kicklogo.png\\\" style=\\\"width:45px; height:auto; padding-left:15px;\\\"></ion-img>\\r\\n    <ion-title *ngIf=\\\"dataLoaded\\\" class=\\\"icon titleColor\\\">{{userDataDisplay[\\\"username\\\"]}}</ion-title>\\r\\n    <ion-title *ngIf=\\\"!dataLoaded\\\" class=\\\"icon titleColor\\\">\\r\\n      <ion-spinner name=\\\"dots\\\"></ion-spinner>\\r\\n    </ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button disabled=\\\"false\\\" class=\\\"lightKick\\\" autoHide='false' (click)=\\\"presentPopover($event)\\\">\\r\\n        <ion-icon class=\\\"settingBtn\\\" name=\\\"settings\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar class=\\\"kickBg\\\">\\r\\n    <ion-segment color=\\\"medium\\\" mode=\\\"md\\\">\\r\\n      <ion-segment-button mode=\\\"md\\\" checked value=\\\"home\\\" (click)=\\\"onMain()\\\">\\r\\n        <ion-label color=\\\"light\\\">Accueil</ion-label>\\r\\n      </ion-segment-button>\\r\\n      <ion-segment-button mode=\\\"md\\\" value=\\\"library\\\" (click)=\\\"onLibrary()\\\">\\r\\n        <ion-label color=\\\"light\\\">Musiques</ion-label>\\r\\n      </ion-segment-button>\\r\\n      <ion-segment-button mode=\\\"md\\\" value=\\\"notifications\\\" (click)=\\\"onNotifications()\\\">\\r\\n        <ion-label color=\\\"light\\\"> Fil d'actu</ion-label>\\r\\n       <!-- <ion-badge class=\\\"notifications\\\" color=\\\"danger\\\">66</ion-badge>-->\\r\\n      </ion-segment-button>\\r\\n    </ion-segment>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"ion-text-center\\\">\\r\\n    <div class=\\\"width100 ion-text-center mainDiv\\\" style=\\\"background-image:url(assets/img/bgtest.jpg); min-height:100vh; background-size:cover; background-attachment: fixed;\\\">\\r\\n      <!-------------- APP MAIN -------------->\\r\\n      <div id=\\\"appMain\\\" *ngIf=\\\"isOnMain\\\">\\r\\n        <ion-card style=\\\"background:rgb(5, 3, 31);\\\">\\r\\n          <ion-card-content>\\r\\n            <!--------------- BITMOJI CONTAINER --------------->\\r\\n            <div class=\\\"spaceBmj\\\"></div>\\r\\n            <div class=\\\"bitmojiContainer\\\">\\r\\n              <p *ngIf=\\\"dataLoaded\\\" (click)=\\\"presentModalFollowers()\\\" class=\\\"followers inlineBlock\\\">Abonnés<br />\\r\\n                <ion-badge color=\\\"light\\\">{{userDataDisplay[\\\"followers\\\"]}}</ion-badge>\\r\\n              </p>\\r\\n              <p *ngIf=\\\"!dataLoaded\\\" class=\\\"followers inlineBlock\\\">Abonnés <br />\\r\\n                <ion-skeleton-text animated style=\\\"margin: 20%; width:50%; text-align:center;\\\"></ion-skeleton-text>\\r\\n              </p>\\r\\n              <ion-avatar *ngIf='userAvatar' (click)=\\\"chooseAvatar()\\\" class=\\\"bmjContainer inlineBlock\\\"><img [src]=\\\"userAvatar\\\"  onerror=\\\"this.onerror=null; this.src='../../assets/img/bitmoji.png';\\\" alt=\\\"Bitmoji\\\"\\r\\n                class=\\\"bmjLogo\\\"/></ion-avatar>\\r\\n                <ion-avatar *ngIf='!userAvatar' (click)=\\\"chooseAvatar()\\\" class=\\\"bmjContainer inlineBlock\\\"><img [src]=\\\"bitmojiLink\\\"\\r\\n                  class=\\\"bmjLogo\\\"/></ion-avatar>\\r\\n              <p *ngIf=\\\"dataLoaded\\\" (click)=\\\"presentModalFollowing()\\\" class=\\\"following inlineBlock\\\">Abonnements<br />\\r\\n                <ion-badge color=\\\"light\\\">{{userDataDisplay[\\\"following\\\"]}}</ion-badge>\\r\\n              </p>\\r\\n              <p *ngIf=\\\"!dataLoaded\\\" class=\\\"following inlineBlock\\\">Abonnements <br />\\r\\n                <ion-skeleton-text animated style=\\\"margin: 20%; width:50%; text-align:center;\\\"></ion-skeleton-text>\\r\\n              </p>\\r\\n            </div>\\r\\n\\r\\n            <!--------------- PROFIL INFORMATIONS --------------->\\r\\n            <!-- If the user has already chosen a pseudo : -->\\r\\n            <p class=\\\"stuck\\\">\\r\\n              <a *ngIf=\\\"dataLoaded\\\" (click)=\\\"changePseudo()\\\"><span\\r\\n                  class=\\\"pseudo\\\">{{userDataDisplay[\\\"pseudo\\\"]}}</span></a>\\r\\n              <a *ngIf=\\\"!dataLoaded\\\"><span class=\\\"pseudo\\\">\\r\\n                  <ion-skeleton-text animated style=\\\"width:100px; text-align:center; margin:auto;\\\"></ion-skeleton-text>\\r\\n                </span></a>\\r\\n            </p>\\r\\n\\r\\n            <div class=\\\"stuck\\\" *ngIf=\\\"!pseudoChanging\\\"></div>\\r\\n            <!-- If the user has already chosen a biography : -->\\r\\n            <p class=\\\"info\\\">\\r\\n              <a *ngIf=\\\"dataLoaded\\\" class=\\\"info greyKick\\\" (click)=\\\"changeBio()\\\">{{userDataDisplay[\\\"bio\\\"]}}</a>\\r\\n              <a *ngIf=\\\"!dataLoaded\\\" class=\\\"info greyKick\\\">\\r\\n                <ion-skeleton-text animated style=\\\"width:300px; text-align:center; margin:auto;\\\"></ion-skeleton-text>\\r\\n              </a>\\r\\n            </p>\\r\\n            <ion-chip *ngIf=\\\"dataLoaded && userDataDisplay.roles.listener\\\" outline color=\\\"primary\\\">\\r\\n              <ion-icon *ngIf=\\\"dataLoaded && userDataDisplay.roles.listener\\\" name=\\\"musical-notes\\\" color=\\\"primary\\\"></ion-icon>\\r\\n              <ion-label *ngIf=\\\"dataLoaded && userDataDisplay.roles.listener\\\" >Auditeur</ion-label>\\r\\n            </ion-chip>\\r\\n            <ion-chip *ngIf=\\\"dataLoaded && userDataDisplay.roles.rapper\\\"  outline color=\\\"primary\\\">\\r\\n              <ion-icon *ngIf=\\\"dataLoaded && userDataDisplay.roles.rapper\\\"  name=\\\"microphone\\\" color=\\\"primary\\\"></ion-icon>\\r\\n              <ion-label *ngIf=\\\"dataLoaded && userDataDisplay.roles.rapper\\\" >Rappeur</ion-label>\\r\\n            </ion-chip>\\r\\n            <ion-chip *ngIf=\\\"dataLoaded && userDataDisplay.roles.beatmaker\\\"  outline color=\\\"secondary\\\">\\r\\n              <ion-icon *ngIf=\\\"dataLoaded && userDataDisplay.roles.beatmaker\\\" name=\\\"save\\\" color=\\\"secondary\\\"></ion-icon>\\r\\n              <ion-label *ngIf=\\\"dataLoaded && userDataDisplay.roles.beatmaker\\\" >Beatmaker</ion-label>\\r\\n            </ion-chip>\\r\\n            <app-dashboard-map *ngIf=\\\"dataLoaded\\\" [userId]=\\\"userDataDisplay['id']\\\"></app-dashboard-map>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n\\r\\n        <ion-card>\\r\\n          <ion-card-header>\\r\\n            <ion-card-subtitle slogan componentTitle>Groupes</ion-card-subtitle>\\r\\n            <ion-card-title class=\\\"titleColor\\\">Vos groupes</ion-card-title>\\r\\n          </ion-card-header>\\r\\n\\r\\n          <ion-card-content>\\r\\n            <p class=\\\"location\\\">Vous ne faites partie d'aucun groupe</p>\\r\\n            <div class=\\\"upload\\\">\\r\\n              <ion-button color=\\\"medium\\\" fill=\\\"clear\\\" strong (click)=presentModalUpload()>\\r\\n                <ion-icon name=\\\"add-circle-outline\\\"></ion-icon>&nbsp;Créer un groupe\\r\\n              </ion-button>\\r\\n            </div>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </div>\\r\\n      <!-------------- END APP MAIN -------------->\\r\\n      <app-library *ngIf=\\\"isOnLibrary\\\"></app-library>\\r\\n      <app-streams *ngIf=\\\"isOnNotifications\\\"></app-streams>\\r\\n      <app-nav-bar></app-nav-bar>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","module.exports = \".staticContent {\\n  top: 0; }\\n\\n.underStatic {\\n  height: 80px; }\\n\\n.behindHeader {\\n  height: 60px; }\\n\\n.followers {\\n  position: relative;\\n  top: -20px;\\n  color: whitesmoke;\\n  width: 90px; }\\n\\n.following {\\n  position: relative;\\n  top: -20px;\\n  left: 10px;\\n  color: whitesmoke;\\n  width: 90px; }\\n\\n.width100 {\\n  width: 100%;\\n  position: absolute;\\n  z-index: 300;\\n  background-color: #131313; }\\n\\n.bmjLogo {\\n  width: 65%;\\n  margin: auto;\\n  height: auto;\\n  border-radius: 40%; }\\n\\n.bmjContainer {\\n  width: 75px;\\n  height: 75px;\\n  border-radius: 50%;\\n  border: 1px solid whitesmoke;\\n  text-align: center;\\n  margin: auto;\\n  padding-top: 3px; }\\n\\n.bitmojiContainer {\\n  height: 80px; }\\n\\n.spaceBmj {\\n  margin-top: 4px; }\\n\\n.stuck {\\n  margin-bottom: 10px; }\\n\\n.info {\\n  font-size: 14px;\\n  margin-top: 2px;\\n  width: 100%; }\\n\\n.pseudo {\\n  font-size: 18px;\\n  letter-spacing: 1.5px;\\n  color: #b3b3b3; }\\n\\n.pseudoSeparator {\\n  margin: auto;\\n  width: 100%;\\n  border-bottom: 1px solid #b3b3b3; }\\n\\n.infoSeparator {\\n  width: 100%;\\n  border-bottom: 1px solid #b3b3b3; }\\n\\n.usernameContent {\\n  margin-top: 0; }\\n\\n.dataForm {\\n  padding-top: 5px;\\n  height: 30px; }\\n\\n.staticToolbar {\\n  position: fixed;\\n  top: 245px;\\n  width: 100%;\\n  z-index: 3;\\n  margin-top: -5px; }\\n\\n.paddingTop {\\n  padding-top: 15px; }\\n\\n.profilMenu {\\n  list-style-type: none;\\n  padding: 0;\\n  padding-bottom: 5px;\\n  text-align: left;\\n  border-bottom: 1px solid grey;\\n  margin-bottom: 0px; }\\n\\n.profilMenu li {\\n  display: inline-block;\\n  margin: 5px;\\n  font-weight: bold; }\\n\\n.profilMenuSeparator {\\n  color: grey; }\\n\\n.notifications {\\n  position: absolute;\\n  right: 5px;\\n  top: 0;\\n  font-size: 10px; }\\n\\n.profilLink {\\n  text-decoration: none;\\n  color: #D6CEF4; }\\n\\n.profilMenu .active {\\n  color: whitesmoke; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9kYXNoYm9hcmQvRDpcXFdvcmtzcGFjZVxca2lja0FwcFxcS2lja2FwcC9zcmNcXGFwcFxcbWVtYmVyc1xcZGFzaGJvYXJkXFxkYXNoYm9hcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0ksTUFBTSxFQUFBOztBQUdWO0VBQ0ksWUFBVyxFQUFBOztBQUdmO0VBQ0ksWUFBVyxFQUFBOztBQUdmO0VBQ0ksa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixpQkFBZ0I7RUFDaEIsV0FBVSxFQUFBOztBQUdkO0VBQ0ksa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixVQUFTO0VBQ1QsaUJBQWdCO0VBQ2hCLFdBQVUsRUFBQTs7QUFHZDtFQUNJLFdBQVU7RUFDVixrQkFBaUI7RUFDakIsWUFBVztFQUNYLHlCQUE4QixFQUFBOztBQUtsQztFQUNJLFVBQVM7RUFDVCxZQUFXO0VBQ1gsWUFBVztFQUNYLGtCQUFpQixFQUFBOztBQUdyQjtFQUNJLFdBQVU7RUFDVixZQUFXO0VBQ1gsa0JBQWlCO0VBQ2pCLDRCQUEyQjtFQUMzQixrQkFBaUI7RUFDakIsWUFBVztFQUNYLGdCQUFlLEVBQUE7O0FBR25CO0VBQ0ksWUFBVyxFQUFBOztBQUdmO0VBQ0ksZUFBYyxFQUFBOztBQUtsQjtFQUNJLG1CQUFrQixFQUFBOztBQUd0QjtFQUFRLGVBQWM7RUFBRSxlQUFjO0VBQUUsV0FBVSxFQUFBOztBQUVsRDtFQUFVLGVBQWM7RUFBRSxxQkFBb0I7RUFBRSxjQUF3QixFQUFBOztBQUN4RTtFQUFtQixZQUFXO0VBQUUsV0FBVTtFQUFFLGdDQUEwQyxFQUFBOztBQUN0RjtFQUFpQixXQUFVO0VBQUUsZ0NBQTBDLEVBQUE7O0FBQ3ZFO0VBQW1CLGFBQVksRUFBQTs7QUFFL0I7RUFDSSxnQkFBZTtFQUNmLFlBQVcsRUFBQTs7QUFPZjtFQUNJLGVBQWU7RUFDZixVQUFVO0VBQ1YsV0FBVTtFQUNWLFVBQVM7RUFDVCxnQkFBZSxFQUFBOztBQUduQjtFQUNJLGlCQUFnQixFQUFBOztBQUtwQjtFQUNJLHFCQUFxQjtFQUNyQixVQUFTO0VBQ1QsbUJBQWtCO0VBQ2xCLGdCQUFlO0VBQ2YsNkJBQTRCO0VBQzVCLGtCQUFpQixFQUFBOztBQUdyQjtFQUNJLHFCQUFvQjtFQUNwQixXQUFVO0VBQ1YsaUJBQWdCLEVBQUE7O0FBR3BCO0VBQ0ksV0FBVSxFQUFBOztBQUdkO0VBQ0ksa0JBQWlCO0VBQ2pCLFVBQVM7RUFDVCxNQUFLO0VBQ0wsZUFBYyxFQUFBOztBQUtsQjtFQUNJLHFCQUFvQjtFQUNwQixjQUFhLEVBQUE7O0FBR2pCO0VBQ0ksaUJBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tZW1iZXJzL2Rhc2hib2FyZC9kYXNoYm9hcmQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBFTEVNRU5UUyBQTEFDRU1FTlQgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLnN0YXRpY0NvbnRlbnQge1xyXG4gICAgdG9wOiAwO1xyXG59XHJcblxyXG4udW5kZXJTdGF0aWMge1xyXG4gICAgaGVpZ2h0OjgwcHg7XHJcbn1cclxuXHJcbi5iZWhpbmRIZWFkZXIge1xyXG4gICAgaGVpZ2h0OjYwcHg7XHJcbn1cclxuXHJcbi5mb2xsb3dlcnMge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgdG9wOiAtMjBweDtcclxuICAgIGNvbG9yOndoaXRlc21va2U7XHJcbiAgICB3aWR0aDo5MHB4O1xyXG59XHJcblxyXG4uZm9sbG93aW5nIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHRvcDogLTIwcHg7XHJcbiAgICBsZWZ0OjEwcHg7XHJcbiAgICBjb2xvcjp3aGl0ZXNtb2tlO1xyXG4gICAgd2lkdGg6OTBweDtcclxufVxyXG5cclxuLndpZHRoMTAwIHtcclxuICAgIHdpZHRoOjEwMCU7XHJcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6MzAwO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjpyZ2IoMTksMTksMTkpO1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEJJVE1PSkkgQ09OVEFJTkVSIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi5ibWpMb2dvIHtcclxuICAgIHdpZHRoOjY1JTtcclxuICAgIG1hcmdpbjphdXRvO1xyXG4gICAgaGVpZ2h0OmF1dG87XHJcbiAgICBib3JkZXItcmFkaXVzOjQwJTtcclxufVxyXG5cclxuLmJtakNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDo3NXB4O1xyXG4gICAgaGVpZ2h0Ojc1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOjUwJTtcclxuICAgIGJvcmRlcjoxcHggc29saWQgd2hpdGVzbW9rZTtcclxuICAgIHRleHQtYWxpZ246Y2VudGVyO1xyXG4gICAgbWFyZ2luOmF1dG87XHJcbiAgICBwYWRkaW5nLXRvcDozcHg7XHJcbn1cclxuXHJcbi5iaXRtb2ppQ29udGFpbmVyIHtcclxuICAgIGhlaWdodDo4MHB4O1xyXG59XHJcblxyXG4uc3BhY2VCbWoge1xyXG4gICAgbWFyZ2luLXRvcDo0cHg7XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gUFJPRklMIElORk9TIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi5zdHVjayB7XHJcbiAgICBtYXJnaW4tYm90dG9tOjEwcHg7XHJcbn1cclxuXHJcbi5pbmZvIHsgZm9udC1zaXplOjE0cHg7IG1hcmdpbi10b3A6MnB4OyB3aWR0aDoxMDAlO31cclxuXHJcbi5wc2V1ZG8geyBmb250LXNpemU6MThweDsgbGV0dGVyLXNwYWNpbmc6MS41cHg7IGNvbG9yOnJnYigxNzksIDE3OSwgMTc5KTsgfVxyXG4ucHNldWRvU2VwYXJhdG9yIHsgbWFyZ2luOmF1dG87IHdpZHRoOjEwMCU7IGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYigxNzksIDE3OSwgMTc5KTt9XHJcbi5pbmZvU2VwYXJhdG9yIHsgd2lkdGg6MTAwJTsgYm9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiKDE3OSwgMTc5LCAxNzkpO31cclxuLnVzZXJuYW1lQ29udGVudCB7IG1hcmdpbi10b3A6MDsgfVxyXG5cclxuLmRhdGFGb3JtIHtcclxuICAgIHBhZGRpbmctdG9wOjVweDtcclxuICAgIGhlaWdodDozMHB4O1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFBST0ZJTCBNRU5VIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRUxFTUVOVFMgUExBQ0VNRU5UIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi5zdGF0aWNUb29sYmFyIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHRvcDogMjQ1cHg7XHJcbiAgICB3aWR0aDoxMDAlO1xyXG4gICAgei1pbmRleDozO1xyXG4gICAgbWFyZ2luLXRvcDotNXB4O1xyXG59XHJcblxyXG4ucGFkZGluZ1RvcCB7XHJcbiAgICBwYWRkaW5nLXRvcDoxNXB4O1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFBST0ZJTCBNRU5VIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi5wcm9maWxNZW51IHtcclxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxuICAgIHBhZGRpbmc6MDtcclxuICAgIHBhZGRpbmctYm90dG9tOjVweDtcclxuICAgIHRleHQtYWxpZ246bGVmdDtcclxuICAgIGJvcmRlci1ib3R0b206MXB4IHNvbGlkIGdyZXk7XHJcbiAgICBtYXJnaW4tYm90dG9tOjBweDtcclxufVxyXG5cclxuLnByb2ZpbE1lbnUgbGkge1xyXG4gICAgZGlzcGxheTppbmxpbmUtYmxvY2s7XHJcbiAgICBtYXJnaW46NXB4O1xyXG4gICAgZm9udC13ZWlnaHQ6Ym9sZDtcclxufVxyXG5cclxuLnByb2ZpbE1lbnVTZXBhcmF0b3Ige1xyXG4gICAgY29sb3I6Z3JleTtcclxufVxyXG5cclxuLm5vdGlmaWNhdGlvbnMge1xyXG4gICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICByaWdodDo1cHg7XHJcbiAgICB0b3A6MDtcclxuICAgIGZvbnQtc2l6ZToxMHB4O1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIExJTksgQ09MT1IgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLnByb2ZpbExpbmsge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOm5vbmU7XHJcbiAgICBjb2xvcjojRDZDRUY0O1xyXG59XHJcblxyXG4ucHJvZmlsTWVudSAuYWN0aXZlIHtcclxuICAgIGNvbG9yOndoaXRlc21va2U7XHJcbn0iXX0= */\"","import { TopToolbarComponent } from '../_layouts/top-toolbar/top-toolbar.component';\r\nimport { AlertController, IonContent, ModalController, PopoverController } from '@ionic/angular';\r\nimport { AuthenticationService } from './../../services/authentication.service';\r\nimport { Platform } from '@ionic/angular'\r\nimport { Component, OnInit, ViewChild, Injectable } from '@angular/core';\r\nimport { FileChooser } from '@ionic-native/file-chooser/ngx';\r\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Storage } from '@ionic/storage';\r\nimport { from, Observable } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { UsersService } from '../../services/users.service';\r\nimport * as io from 'socket.io-client';\r\nimport { FollowersPage } from '../followers/followers.page';\r\nimport { FollowingPage } from '../following/following.page';\r\nimport { Subscription } from 'rxjs';\r\n\r\nlet baseURL = \"https://https://kickserver.xyz\";\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.page.html',\r\n  styleUrls: ['./dashboard.page.scss'],\r\n})\r\n\r\nexport class DashboardPage implements OnInit {\r\n  rowId: string;\r\n  rowUsername: string;\r\n  rowIsArtist: boolean;\r\n  rowIsBeatmaker: boolean;\r\n  rowBio: string;\r\n  rowRegistrationDate: string;\r\n  userData: any;\r\n  userDataDisplay: any;\r\n  bioForm: any;\r\n  data: any;\r\n  pseudoForm: \"Pseudo\";\r\n  @ViewChild(IonContent) content: IonContent;\r\n  bitmojiLink: string;\r\n  data2: any;\r\n  socket: any;\r\n  dataLoaded: boolean;\r\n  userAvatar : any;\r\n  /////////// PROFIL MENU COMPONENT\r\n  isOnNotifications: boolean;\r\n  isOnLibrary: boolean;\r\n  isOnMain: boolean;\r\n  constructor(private userService: UsersService,\r\n    private authService: AuthenticationService,\r\n    private fileChooser: FileChooser,\r\n    private transfer: FileTransfer,\r\n    private http: HttpClient,\r\n    public alertController: AlertController,\r\n    private storage: Storage,\r\n    public modalController: ModalController,\r\n    private platform: Platform,\r\n    private popover: PopoverController) {\r\n    this.socket = io(`${baseURL}`);\r\n    this.bitmojiLink = \"assets/img/bitmoji.png\"\r\n    this.dataLoaded = false;\r\n  }\r\n\r\n  ///////////// IONIC PAGE LIFECYCLE /////////////\r\n  ngOnInit() {\r\n    this.socket.on('refreshPage', data => {\r\n      this.updatePseudo()\r\n      this.updateBio();\r\n    })\r\n    if (!this.isOnNotifications && !this.isOnLibrary) {\r\n      this.isOnNotifications = false;\r\n      this.isOnLibrary = false;\r\n      this.isOnMain = true;\r\n    }\r\n\r\n\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n //   this.getUserAvatar();\r\n    this.getUserData();\r\n\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n\r\n    this.backButtonSub = this.platform.backButton.subscribeWithPriority(\r\n      10000,\r\n      () => { }\r\n    );\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.backButtonSub.unsubscribe();\r\n  }\r\n\r\n  ionViewDidLeave() { }\r\n\r\n  ngOnDestroy() { }\r\n\r\n  onNotifications() {\r\n    this.isOnNotifications = true;\r\n    this.isOnLibrary = false;\r\n    this.isOnMain = false;\r\n  }\r\n\r\n  onLibrary() {\r\n    this.isOnNotifications = false;\r\n    this.isOnLibrary = true;\r\n    this.isOnMain = false;\r\n  }\r\n\r\n  onMain() {\r\n    this.isOnNotifications = false;\r\n    this.isOnLibrary = false;\r\n    this.isOnMain = true;\r\n  }\r\n\r\n  async presentPopover(ev: any) {\r\n    const popover = await this.popover.create({\r\n      component: TopToolbarComponent,\r\n      cssClass: 'popoverClass',\r\n      event: ev\r\n    });\r\n    return await popover.present();\r\n  }\r\n\r\n  async presentModalFollowing() {\r\n    const modal = await this.modalController.create({\r\n      component: FollowingPage\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async presentModalFollowers() {\r\n    const modal = await this.modalController.create({\r\n      component: FollowersPage\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  private backButtonSub: Subscription;\r\n\r\n  /////////// CHANGE PSEUDO FUNCTIONS ///////////\r\n\r\n  async changePseudo() {\r\n    const alert = await this.alertController.create({\r\n      header: 'Modifier le pseudo',\r\n      message: 'C\\'est sous ce pseudo que tu apparaitra sur Kick',\r\n      inputs: [\r\n        {\r\n          name: 'pseudo',\r\n          type: 'text',\r\n          id: 'pseudo',\r\n          value: this.userDataDisplay[\"pseudo\"]\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Retour',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n            console.log('Confirm Cancel');\r\n          }\r\n        }, {\r\n          text: 'Ok',\r\n          handler: data => {\r\n            console.log('Confirm Ok');\r\n            this.changePseudoOk(data.pseudo);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  changePseudoOk(pseudo) {\r\n    this.data = {\r\n      pseudoForm: pseudo,\r\n      userId: this.authService.userData.id\r\n    }\r\n    this.userService.changePseudo(this.data).subscribe(\r\n      (res: any) => {\r\n\r\n        if (res.token) {\r\n          this.authService.clearToken();\r\n          this.authService.login(res.token, res.expiresIn);\r\n          this.socket.emit('refresh', {});\r\n        } else {\r\n          //MAYBE ADD HERE AN ALERT THAT PSEUDO CANT BE CHANGED\r\n        }\r\n      })\r\n  }\r\n  updateBio() {\r\n    this.userService.getUserById(this.authService.userData.id).subscribe(data => {\r\n      console.log(data);\r\n      this.userDataDisplay.bio = data.result.bio;\r\n      this.authService.userData.bio = data.result.bio;\r\n    }\r\n    )\r\n  }\r\n  updatePseudo() {\r\n    this.userService.getUserById(this.authService.userData.id).subscribe(data => {\r\n      console.log(data);\r\n      this.userDataDisplay.pseudo = data.result.pseudo;\r\n      this.authService.userData.pseudo = data.result.pseudo;\r\n    }\r\n    )\r\n  }\r\n\r\n  /////////// CHANGE BIO FUNCTIONS ///////////\r\n\r\n  async changeBio() {\r\n    const alert = await this.alertController.create({\r\n      header: 'Modifier la bio',\r\n      message: 'Ta bio apparaitra sur ton profil lorsqu\\'un utilisateur se rendra sur ton profil',\r\n      inputs: [\r\n        {\r\n          name: 'bio',\r\n          type: 'text',\r\n          id: 'bio',\r\n          value: this.userDataDisplay[\"bio\"]\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Retour',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n            console.log('Confirm Cancel');\r\n          }\r\n        }, {\r\n          text: 'Ok',\r\n          handler: data => {\r\n            console.log('Confirm Ok');\r\n            this.changeBioOk(data.bio);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  changeBioOk(bio) {\r\n    this.data = {\r\n      bioForm: bio,\r\n      userId: this.authService.userData.id\r\n    }\r\n    this.userService.changeBio(this.data).subscribe(\r\n      (res: any) => {\r\n        if (res.token) {\r\n          this.authService.clearToken();\r\n          this.authService.login(res.token, res.expiresIn);\r\n          this.socket.emit('refresh', {});\r\n        } else {\r\n          // ADD HERE MAYBE AN ALERT THAT BIO HASNT BEEN CHANGED\r\n        }\r\n      })\r\n  }\r\n\r\n  // OTHER FUNCTIONS\r\n\r\n  loginDataStorage(rowId, rowUsername, rowIsArtist, rowIsBeatmaker, rowBio, rowRegistrationDate, following, followers, pseudo, roles) {\r\n    var loginData = {\r\n      \"id\": rowId, \"username\": rowUsername, \"isArtist\": rowIsArtist, \"isBeatmaker\": rowIsBeatmaker, \"bio\": rowBio, \"registrationDate\": rowRegistrationDate, \"following\": following, \"followers\": followers, \"pseudo\": pseudo\r\n      , \"roles\": roles\r\n    };\r\n    this.userData = loginData;\r\n    this.userDataDisplay = loginData;\r\n    this.dataLoaded = true;\r\n  }\r\n\r\n  getUserData() {\r\n    let data = \"vide\"; // this request will be intercepted and the token will be added automatically so we dont need to put it here\r\n\r\n    this.http.post(`${baseURL}/testToken`, data).subscribe(\r\n      (res: any) => {\r\n        if (res.loggedIn !== true) {\r\n          this.logout();\r\n        }\r\n        else {\r\n          console.log(res);\r\n          this.userAvatar= `https://https://kickserver.xyz/chatApp/getUserAvatar/${res.id}`\r\n          this.loginDataStorage(res.id, res.username, res.isArtiste, res.isBeatmaker, res.bio, res.registrationDate, res.following, res.followers, res.pseudo, res.roles);\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  logout() {\r\n    this.authService.logout();\r\n  }\r\n\r\n  chooseFile() {\r\n    this.fileChooser.open()\r\n      .then(uri => console.log(uri))\r\n      .catch(e => console.log(e));\r\n  }\r\n\r\n  chooseAvatar() { // Android Only\r\n\r\n    this.storage.get(\"ACCES_TOKEN\").then(res => {\r\n      if (res) {\r\n\r\n        const fileTransfer: FileTransferObject = this.transfer.create();\r\n\r\n        let options: FileUploadOptions = {\r\n          fileKey: 'avatar',   //this key must be the same as the name in nodejs\r\n          fileName: 'CustomFile',\r\n          headers: {\r\n            'avatarName': 'myAvatar',\r\n            'x-access-token': res\r\n          }\r\n        }\r\n\r\n        this.fileChooser.open({ \"mime\": \"image/jpeg\" })\r\n          .then(uri => fileTransfer.upload(uri, `${baseURL}/chatApp/changeAvatar`, options)\r\n            .then((data) => {\r\n              alert(data + \"avatar uploadé avec succes\")\r\n            }, (err) => {\r\n              alert(\"erreur pendant le traitement de votre image, merci de choisir un fichier au format jpeg\")\r\n            }))\r\n      }\r\n      else {\r\n        alert(\"une erreur est survenue pendant le transfert de votre image, merci de vous reconnecter\");\r\n        this.authService.logout();\r\n      }\r\n    \r\n\r\n\r\n    })\r\n}\r\n\r\n\r\n}\r\n"],"sourceRoot":""}