(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"8r3O":function(n,l,u){"use strict";u.r(l);var o=u("CcnG"),e=u("ej43"),r=function(){function n(n,l,u){this.http=n,this.router=l,this.authService=u,this.usernamePattern="[A-Za-z0-9_-]{5,20}",this.passwordPattern="^([a-zA-Z0-9@*#.!]{7,40})$",this.loginForm={},this.wrongLogs=!1,this.pageTitle="Connexion",this.slogan="Bon retour parmi-nous",this.usernameInput="Nom d'utilisateur",this.passwordInput="Mot de passe",this.loginBtn="Connexion",this.resetPassLink="Mot de passe oubli\xe9 ?",this.passwordMsg="7 \xe0 40 caract\xe8res",this.usernameMsg="5 \xe0 20 caract\xe8res",this.wrongLogin=!1,this.onLoading=!1,this.wrongLoginMsg="Identifiants incorrects"}return n.prototype.usernameInpFoc=function(){this.usernameOnFocus=!0,this.wrongLogin=!1},n.prototype.usernameInpBlur=function(){this.usernameOnFocus=!1},n.prototype.passwordInpFoc=function(){this.passwordOnFocus=!0,this.wrongLogin=!1},n.prototype.passwordInpBlur=function(){this.passwordOnFocus=!1},n.prototype.login=function(){var n=this;this.onLoading=!0,this.http.post("https://aurelienclement.fr/chatApp/login",{username:this.loginForm.username,password:this.loginForm.password}).subscribe((function(l){console.log(l),!0===l.loggedIn?(n.rowUsername=l.username,n.rowIsArtist=l.isArtiste,n.rowIsBeatmaker=l.isBeatmaker,n.rowBio=l.bio,n.rowRegistrationDate=l.registrationDate,n.rowId=l.id,n.following=l.following,n.followers=l.followers,n.pseudo=l.pseudo,n.roles=l.roles,console.log("POST call successful value returned in body",l),n.authService.login(l.token,l.expiresIn),n.authService.loginDataStorage(n.rowUsername,n.rowIsArtist,n.rowIsBeatmaker,n.rowBio,n.rowRegistrationDate,n.rowId,n.following,n.followers,n.pseudo,n.roles),setTimeout((function(){n.router.navigateByUrl("/members/dashboard")}),2500)):n.wrongLogs=!0}),(function(l){setTimeout((function(){n.onLoading=!1,n.wrongLogin=!0}),2500)}))},n.prototype.checkTokenTest=function(){},n.prototype.ngOnInit=function(){},n}(),t=function(){return function(){}}(),s=u("pMnS"),i=u("oBZk"),a=u("ZZ/e"),b=u("gIcY"),g=u("Ip0R"),p=u("ZYCi"),c=u("hAqS"),d=u("Zr1d"),f=u("hUoD"),m=u("t/Na"),h=o.nb({encapsulation:0,styles:[[".mainDiv[_ngcontent-%COMP%]{padding-top:55px}.slogan[_ngcontent-%COMP%]{margin-top:50px}.separator[_ngcontent-%COMP%]{border-top:1px solid #000;width:45%;margin-left:54%}.footerMsg[_ngcontent-%COMP%]{font-size:small}.inputMsg[_ngcontent-%COMP%]{font-size:small;margin:0}.greyLink[_ngcontent-%COMP%]{color:#757171}"]],data:{}});function w(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,11,"ion-header",[],null,null,null,i.bb,i.q)),o.ob(1,49152,null,0,a.C,[o.h,o.k,o.z],null,null),(n()(),o.pb(2,0,null,0,9,"ion-toolbar",[["class","secondBg"]],null,null,null,i.vb,i.K)),o.ob(3,49152,null,0,a.Db,[o.h,o.k,o.z],null,null),(n()(),o.pb(4,0,null,0,2,"ion-title",[["class","pageTitle"]],null,null,null,i.ub,i.J)),o.ob(5,49152,null,0,a.Bb,[o.h,o.k,o.z],null,null),(n()(),o.pb(6,0,null,0,0,"img",[["src","assets/img/login.png"],["style","height:20px; width:auto; margin-top:10px;"]],null,null,null,null,null)),(n()(),o.pb(7,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,i.Q,i.f)),o.ob(8,49152,null,0,a.m,[o.h,o.k,o.z],null,null),(n()(),o.pb(9,0,null,0,2,"ion-back-button",[["autoHide","false"],["color","medium"],["defaultHref","/home"],["icon","ios-arrow-back"],["text",""]],null,[[null,"click"]],(function(n,l,u){var e=!0;return"click"===l&&(e=!1!==o.zb(n,11).onClick(u)&&e),e}),i.N,i.c)),o.ob(10,49152,null,0,a.h,[o.h,o.k,o.z],{color:[0,"color"],defaultHref:[1,"defaultHref"],icon:[2,"icon"],text:[3,"text"]},null),o.ob(11,16384,null,0,a.i,[[2,a.jb],a.Ib],{defaultHref:[0,"defaultHref"]},null)],(function(n,l){n(l,10,0,"medium","/home","ios-arrow-back",""),n(l,11,0,"/home")}),null)}function z(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,1,"p",[["class","inputMsg"]],null,null,null,null,null)),(n()(),o.Eb(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.usernameMsg)}))}function k(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,1,"p",[["class","inputMsg"]],null,null,null,null,null)),(n()(),o.Eb(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.passwordMsg)}))}function I(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,2,"ion-button",[["color","danger"],["disabled",""],["expand","full"]],null,null,null,i.P,i.e)),o.ob(1,49152,null,0,a.l,[o.h,o.k,o.z],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"]},null),(n()(),o.Eb(2,0,["",""]))],(function(n,l){n(l,1,0,"danger","","full")}),(function(n,l){n(l,2,0,l.component.wrongLoginMsg)}))}function C(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,2,"ion-button",[["color","dark"],["expand","full"],["type","submit"]],null,null,null,i.P,i.e)),o.ob(1,49152,null,0,a.l,[o.h,o.k,o.z],{color:[0,"color"],expand:[1,"expand"],type:[2,"type"]},null),(n()(),o.Eb(2,0,["",""]))],(function(n,l){n(l,1,0,"dark","full","submit")}),(function(n,l){n(l,2,0,l.component.loginBtn)}))}function v(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,2,"ion-button",[["color","dark"],["disabled",""],["expand","full"]],null,null,null,i.P,i.e)),o.ob(1,49152,null,0,a.l,[o.h,o.k,o.z],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"]},null),(n()(),o.Eb(2,0,["",""]))],(function(n,l){n(l,1,0,"dark","","full")}),(function(n,l){n(l,2,0,l.component.loginBtn)}))}function x(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,49,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,u){var e=!0,r=n.component;return"submit"===l&&(e=!1!==o.zb(n,2).onSubmit(u)&&e),"reset"===l&&(e=!1!==o.zb(n,2).onReset()&&e),"ngSubmit"===l&&(e=!1!==r.login()&&e),e}),null,null)),o.ob(1,16384,null,0,b.v,[],null,null),o.ob(2,4210688,null,0,b.o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),o.Bb(2048,null,b.b,null,[b.o]),o.ob(4,16384,null,0,b.n,[[4,b.b]],null,null),(n()(),o.pb(5,0,null,null,44,"div",[["class","ion-padding ion-text-center mainDiv"]],null,null,null,null,null)),(n()(),o.pb(6,0,null,null,0,"img",[["class","mainLogo"],["src","assets/img/mainLogo.png"]],null,null,null,null,null)),(n()(),o.pb(7,0,null,null,1,"p",[["class","slogan gradientKick"]],null,null,null,null,null)),(n()(),o.Eb(8,null,["",""])),(n()(),o.pb(9,0,null,null,0,"div",[["class","marginUnderSlg"]],null,null,null,null,null)),(n()(),o.pb(10,0,null,null,9,"ion-input",[["autofocus","true"],["class","bgInput"],["name","username"],["required",""],["type","text"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionFocus"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var e=!0,r=n.component;return"ionBlur"===l&&(e=!1!==o.zb(n,12)._handleBlurEvent(u.target)&&e),"ionChange"===l&&(e=!1!==o.zb(n,12)._handleInputEvent(u.target)&&e),"ngModelChange"===l&&(e=!1!==(r.loginForm.username=u)&&e),"ionFocus"===l&&(e=!1!==r.usernameInpFoc()&&e),"ionBlur"===l&&(e=!1!==r.usernameInpBlur()&&e),e}),i.eb,i.t)),o.ob(11,49152,null,0,a.H,[o.h,o.k,o.z],{autofocus:[0,"autofocus"],name:[1,"name"],pattern:[2,"pattern"],placeholder:[3,"placeholder"],required:[4,"required"],type:[5,"type"]},null),o.ob(12,16384,null,0,a.Ob,[o.k],null,null),o.ob(13,16384,null,0,b.s,[],{required:[0,"required"]},null),o.ob(14,540672,null,0,b.q,[],{pattern:[0,"pattern"]},null),o.Bb(1024,null,b.j,(function(n,l){return[n,l]}),[b.s,b.q]),o.Bb(1024,null,b.k,(function(n){return[n]}),[a.Ob]),o.ob(17,671744,[["username",4]],0,b.p,[[2,b.b],[6,b.j],[8,null],[6,b.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o.Bb(2048,null,b.l,null,[b.p]),o.ob(19,16384,null,0,b.m,[[4,b.l]],null,null),(n()(),o.gb(16777216,null,null,1,null,z)),o.ob(21,16384,null,0,g.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(22,0,null,null,0,"div",[["class","marginBetweenInputs"]],null,null,null,null,null)),(n()(),o.pb(23,0,null,null,9,"ion-input",[["autofocus","true"],["class","bgInput"],["name","password"],["required",""],["type","password"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionFocus"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var e=!0,r=n.component;return"ionBlur"===l&&(e=!1!==o.zb(n,25)._handleBlurEvent(u.target)&&e),"ionChange"===l&&(e=!1!==o.zb(n,25)._handleInputEvent(u.target)&&e),"ngModelChange"===l&&(e=!1!==(r.loginForm.password=u)&&e),"ionFocus"===l&&(e=!1!==r.passwordInpFoc()&&e),"ionBlur"===l&&(e=!1!==r.passwordInpBlur()&&e),e}),i.eb,i.t)),o.ob(24,49152,null,0,a.H,[o.h,o.k,o.z],{autofocus:[0,"autofocus"],name:[1,"name"],pattern:[2,"pattern"],placeholder:[3,"placeholder"],required:[4,"required"],type:[5,"type"]},null),o.ob(25,16384,null,0,a.Ob,[o.k],null,null),o.ob(26,16384,null,0,b.s,[],{required:[0,"required"]},null),o.ob(27,540672,null,0,b.q,[],{pattern:[0,"pattern"]},null),o.Bb(1024,null,b.j,(function(n,l){return[n,l]}),[b.s,b.q]),o.Bb(1024,null,b.k,(function(n){return[n]}),[a.Ob]),o.ob(30,671744,[["password",4],["password",4]],0,b.p,[[2,b.b],[6,b.j],[8,null],[6,b.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o.Bb(2048,null,b.l,null,[b.p]),o.ob(32,16384,null,0,b.m,[[4,b.l]],null,null),(n()(),o.gb(16777216,null,null,1,null,k)),o.ob(34,16384,null,0,g.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(35,0,null,null,0,"div",[["class","marginBetweenInputs"]],null,null,null,null,null)),(n()(),o.gb(16777216,null,null,1,null,I)),o.ob(37,16384,null,0,g.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,null,1,null,C)),o.ob(39,16384,null,0,g.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,null,1,null,v)),o.ob(41,16384,null,0,g.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(42,0,null,null,0,"div",[["class","marginBetweenBtns"]],null,null,null,null,null)),(n()(),o.pb(43,0,null,null,6,"div",[["class","separator"]],null,null,null,null,null)),(n()(),o.pb(44,0,null,null,5,"p",[["class","footerFormMsg"]],null,null,null,null,null)),(n()(),o.Eb(45,null,[""," "])),(n()(),o.pb(46,0,null,null,3,"a",[["class","greyLink"],["routerDirection","forward"],["routerLink","/reset-password"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,u){var e=!0;return"click"===l&&(e=!1!==o.zb(n,47).onClick(u)&&e),"click"===l&&(e=!1!==o.zb(n,48).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),o.ob(47,737280,null,0,a.Mb,[g.g,a.Ib,o.k,p.m,[2,p.n]],{routerDirection:[0,"routerDirection"]},null),o.ob(48,671744,null,0,p.o,[p.m,p.a,g.g],{routerLink:[0,"routerLink"]},null),(n()(),o.Eb(49,null,["",""]))],(function(n,l){var u=l.component;n(l,11,0,"true","username",u.usernamePattern,o.rb(1,"",u.usernameInput,""),"","text"),n(l,13,0,""),n(l,14,0,u.usernamePattern),n(l,17,0,"username",u.loginForm.username),n(l,21,0,u.usernameOnFocus),n(l,24,0,"true","password",u.passwordPattern,o.rb(1,"",u.passwordInput,""),"","password"),n(l,26,0,""),n(l,27,0,u.passwordPattern),n(l,30,0,"password",u.loginForm.password),n(l,34,0,u.passwordOnFocus),n(l,37,0,u.wrongLogin),n(l,39,0,!(null!=o.zb(l,30).errors&&o.zb(l,30).errors.pattern||null!=o.zb(l,30).errors&&o.zb(l,30).errors.required||null!=o.zb(l,17).errors&&o.zb(l,17).errors.pattern||null!=o.zb(l,17).errors&&o.zb(l,17).errors.required||u.wrongLogin)),n(l,41,0,(null==o.zb(l,30).errors?null:o.zb(l,30).errors.pattern)||(null==o.zb(l,30).errors?null:o.zb(l,30).errors.required)||(null==o.zb(l,17).errors?null:o.zb(l,17).errors.pattern)||(null==o.zb(l,17).errors?null:o.zb(l,17).errors.required)&&!u.wrongLogin),n(l,47,0,"forward"),n(l,48,0,"/reset-password")}),(function(n,l){var u=l.component;n(l,0,0,o.zb(l,4).ngClassUntouched,o.zb(l,4).ngClassTouched,o.zb(l,4).ngClassPristine,o.zb(l,4).ngClassDirty,o.zb(l,4).ngClassValid,o.zb(l,4).ngClassInvalid,o.zb(l,4).ngClassPending),n(l,8,0,u.slogan),n(l,10,0,o.zb(l,13).required?"":null,o.zb(l,14).pattern?o.zb(l,14).pattern:null,o.zb(l,19).ngClassUntouched,o.zb(l,19).ngClassTouched,o.zb(l,19).ngClassPristine,o.zb(l,19).ngClassDirty,o.zb(l,19).ngClassValid,o.zb(l,19).ngClassInvalid,o.zb(l,19).ngClassPending),n(l,23,0,o.zb(l,26).required?"":null,o.zb(l,27).pattern?o.zb(l,27).pattern:null,o.zb(l,32).ngClassUntouched,o.zb(l,32).ngClassTouched,o.zb(l,32).ngClassPristine,o.zb(l,32).ngClassDirty,o.zb(l,32).ngClassValid,o.zb(l,32).ngClassInvalid,o.zb(l,32).ngClassPending),n(l,45,0,u.resetPassMsg),n(l,46,0,o.zb(l,48).target,o.zb(l,48).href),n(l,49,0,u.resetPassLink)}))}function B(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,0,"img",[["class","loadingImg"],["src","assets/img/loading.gif"]],null,null,null,null,null))],null,null)}function L(n){return o.Fb(0,[(n()(),o.gb(16777216,null,null,1,null,w)),o.ob(1,16384,null,0,g.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(2,0,null,null,8,"ion-content",[["fullscreen",""],["id","yellowBg"]],null,null,null,i.Y,i.n)),o.ob(3,49152,null,0,a.v,[o.h,o.k,o.z],{fullscreen:[0,"fullscreen"]},null),(n()(),o.gb(16777216,null,0,1,null,x)),o.ob(5,16384,null,0,g.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,B)),o.ob(7,16384,null,0,g.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(8,0,null,0,2,"app-footer",[],null,null,null,c.b,c.a)),o.Bb(512,null,d.a,d.a,[]),o.ob(10,114688,null,0,f.a,[d.a],null,null)],(function(n,l){var u=l.component;n(l,1,0,!u.onLoading),n(l,3,0,""),n(l,5,0,!u.onLoading),n(l,7,0,u.onLoading),n(l,10,0)}),null)}function F(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,1,"app-login",[],null,null,null,L,h)),o.ob(1,114688,null,0,r,[m.c,p.m,e.a],null,null)],(function(n,l){n(l,1,0)}),null)}var y=o.lb("app-login",r,F,{},{},[]),M=u("LM+r");u.d(l,"LoginPageModuleNgFactory",(function(){return O}));var O=o.mb(t,[],(function(n){return o.wb([o.xb(512,o.j,o.bb,[[8,[s.a,y]],[3,o.j],o.x]),o.xb(4608,g.l,g.k,[o.u,[2,g.r]]),o.xb(4608,a.c,a.c,[o.z,o.g]),o.xb(4608,a.Hb,a.Hb,[a.c,o.j,o.q]),o.xb(4608,a.Lb,a.Lb,[a.c,o.j,o.q]),o.xb(4608,b.w,b.w,[]),o.xb(1073742336,g.b,g.b,[]),o.xb(1073742336,a.Fb,a.Fb,[]),o.xb(1073742336,b.u,b.u,[]),o.xb(1073742336,b.g,b.g,[]),o.xb(1073742336,p.p,p.p,[[2,p.v],[2,p.m]]),o.xb(1073742336,M.a,M.a,[]),o.xb(1073742336,t,t,[]),o.xb(1024,p.k,(function(){return[[{path:"",component:r}]]}),[])])}))}}]);